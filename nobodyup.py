# Obfuscated by Py Compile
# Created by HTR-TECH (https://github.com/htr-tech)
# Instagram : @tahmid.rayat

import base64
exec(base64.b64decode('Iy0tLS0tLS0tLS0tLS0tLS0tWyBNQUhESSBdLS0tLS0tLS0tLS0tLS0tLS0tLSMNCiANCmltcG9ydCByZXF1ZXN0cyxiczQsanNvbixvcyxzeXMscmFuZG9tLGRhdGV0aW1lLHRpbWUscmUNCmltcG9ydCB1cmxsaWIzLHJpY2gsYmFzZTY0DQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlIGFzIG1lDQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZSBhcyBzb2wNCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHNvcA0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyB0cmVkDQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3ANCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwgYXMgbmVsDQpmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duIGFzIG1hcmsNCmZyb20gcmljaC5jb2x1bW5zIGltcG9ydCBDb2x1bW5zIGFzIGNvbA0KZnJvbSByaWNoIGltcG9ydCBwcmV0dHkNCmZyb20gcmljaC50ZXh0IGltcG9ydCBUZXh0IGFzIHRla3oNCmZyb20gdGltZSBpbXBvcnQgbG9jYWx0aW1lIGFzIGx0DQpwcmV0dHkuaW5zdGFsbCgpDQpDT049c29sKCkNCiAjLS0tLS0tLS0tLS0tLS0tLS0tWyBNQUhESSBdLS0tLS0tLS0tLS0tLS0tLS0tLSMNCmltcG9ydCBvcywgcGxhdGZvcm0sIHRpbWUsIHN5cw0KcHJpbnQoJ1wwMzNbOTc7MW1bXDAzM1s5MjsxbStcMDMzWzk3OzFtXSBcMDMzWzA7OTJtQ2hlY2tpbmcgVXBkYXRlLi4uPyAnKQ0KdGltZS5zbGVlcCg1KQ0Kb3Muc3lzdGVtKCdjbGVhcicpDQp0aW1lLnNsZWVwKDIpDQojLS0tLS0tLS0tLS0tLS0tLS0tWyBNQUhESSBdLS0tLS0tLS0tLS0tLS0tLS0tLSMNCiMtLS0tLS0tLS0tLS0tLS0tLS1bIFVTRVItQUdFTlQgXS0tLS0tLS0tLS0tLS0tLS0tLS0jDQp1YSA9IFsiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEzOyBDUEgyMjE5IEJ1aWxkL1RQMUEuMjIwOTA1LjAwMTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8xMTUuMC41NzkwLjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMzsgMjIwMTExN1NZIEJ1aWxkL1RQMUEuMjIwNjI0LjAxNDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8xMTUuMC41NzkwLjE2NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgSykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNC4wLjAuMCBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgMTJfMiBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vMTIuMCBZYUJyb3dzZXIvMjEuNS42Ljc0NC4xMCBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDQuMSIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBTTS1KNDE1RyBCdWlsZC9QUFIxLjE4MDYxMC4wMTE7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvMTE2LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2IixdDQp1YSA9IFsiRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCAxMzsgOEszNTI4LVQgQnVpbGQvVFEyQS4yMzAzMDUuMDA4LkYxKSIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgMTNfMiBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pIENyaU9TLzkzLjAuNDU3Ny43OCBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDQuMSIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgQktMLUwwOSBCdWlsZC9IVUFXRUlCS0wtTDA5Uzsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8xMTQuMC41NzM1LjIwMiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgUmVkbWkgTm90ZSA4IFBybyBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvOTMuMC40NTc3LjgyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IEdTQS8xMi4zNi4yMi4yMy5hcm02NCIsXQ0KdWEgPSBbIk1vemlsbGEvNS4wIChMaW51eDsgYXJtXzY0OyBBbmRyb2lkIDEwOyBSTVgzMjAxKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTIuMC40NTE1LjE1OSBZYUJyb3dzZXIvMjEuOC4xLjEyNy4wMCBTQS8zIE1vYmlsZSBTYWZhcmkvNTM3LjM2IixdDQp1Z2VuMj1bXQ0KdWdlbj1bXQ0KY29rYnJ1dD1bXQ0Kc2VzPXJlcXVlc3RzLlNlc3Npb24oKQ0KcHJpbmNwPVtdDQp0cnk6DQogICAgcHJveD0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dpdGh1Yi5jb20vVGhlU3BlZWRYL1BST1hZLUxpc3QvYmxvYi9tYXN0ZXIvaHR0cC50eHQnKS50ZXh0DQogICAgb3BlbignLnByb3gudHh0JywndycpLndyaXRlKHByb3gpDQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgcGFzcw0KcHJveD1vcGVuKCcucHJveC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KZm9yIGRyIGluIHJhbmdlKDEwMDAwKToNCglhPSdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQnDQoJYj1yYW5kb20uY2hvaWNlKFsnOCcsJzknLCcxMCcsJzExJywnMTInLCcxMycsJzE0JywnMTUnXSkNCgljPSdSTVgzMTIxIEJ1aWxkL1JQMUEuMjAwNzIwLjAxMTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8nDQoJZD1yYW5kb20ucmFuZHJhbmdlKDUwLDExNSkNCgllPScwJw0KCWY9cmFuZG9tLnJhbmRyYW5nZSgzMDAwLDYwMDApDQoJZz1yYW5kb20ucmFuZHJhbmdlKDIwLDEwMCkNCgloPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicNCgl1YWt1PWYne2F9IHtifTsge2N9e2R9LntlfS57Zn0ue2d9IHtofScNCgl1Z2VuMi5hcHBlbmQodWFrdSkNCmZvciB1YSBpbiByYW5nZSg1MDAwKToNCiAgICAgIGE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCcNCiAgICAgIGI9cmFuZG9tLmNob2ljZShbJzUuMS4xJyAsICc2LjAuMScgLCAnNy4xLjEnICwgJzEyJyAsICcxMycgLCAnMTQnICwgJzE1J10pDQogICAgICB5PXJhbmRvbS5jaG9pY2UoWydTTS1KMzIwSCcgLCAnU00tSjMxMDknICwgJ0ozMjBGTicgLCAnU00tSjMyMFAnICwgJ1NNLUozMjBGJyAsICdTTS1KMzIwRycgLCAnU00tSjMyMFknICwgJ1NNLUc5OThCJyAsICdTTS1HOTk4VScgLCAnU00tRzk5OFcnICwgJ1NNLUc5OThVMScgLCBdKQ0KICAgICAgYz0nQnVpbGQvVFAxQS4yMjA2MjQuMDE0OyApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8nDQogICAgICBkPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTE1KQ0KICAgICAgZT0nMCcNCiAgICAgIGY9cmFuZG9tLnJhbmRyYW5nZSgzMDAwLDYwMDApDQogICAgICBnPXJhbmRvbS5yYW5kcmFuZ2UoMjAsMTAwKQ0KICAgICAgaD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgICB1YWt1PShmInthfSB7Yn07IHt5fSB7Y317ZH0ue2V9LntmfS57Z30ge2h9IikNCiAgICAgIHVnZW4uYXBwZW5kKHVha3UpDQpmb3IgeGQgaW4gcmFuZ2UoNTAwMCk6DQogICAgIGE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCcNCiAgICAgYj1yYW5kb20ucmFuZHJhbmdlKDEsMTMpDQogICAgIGM9J0NQSDI0MTEgQnVpbGQvVFAxQS4yMjA5MDUuMDAxOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLycNCiAgICAgZD1yYW5kb20ucmFuZHJhbmdlKDMwLDExNSkNCiAgICAgZT0nMCcNCiAgICAgZj1yYW5kb20ucmFuZHJhbmdlKDMwMDAsNjAwMCkNCiAgICAgZz1yYW5kb20ucmFuZHJhbmdlKDIwLDIwMCkNCiAgICAgaD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnDQogICAgIHVha3UyPWYne2F9IHtifTsge2N9LntkfS57ZX0ue2Z9IHtofScNCiAgICAgdWdlbi5hcHBlbmQodWFrdTIpDQpmb3Igc2F0IGluIHJhbmdlKDEwMDApOg0KICAgIGE9J1JlZG1pJw0KICAgIGI9cmFuZG9tLnJhbmRyYW5nZSgxLDkpDQogICAgYz0nLTAnDQogICAgZD1yYW5kb20ucmFuZHJhbmdlKDEsOSkNCiAgICBlPScvJw0KICAgIGY9cmFuZG9tLnJhbmRyYW5nZSgxLDkpDQogICAgZz0nLjAgKCcNCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoMSwxMikNCiAgICBpPSdQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEnDQogICAgaj0nVU5UUlVTVEVELycNCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoMSwzKQ0KICAgIGw9Jy4wJw0KICAgIHVha3UyPWYne2F9e2J9e2N9e2R9e2V9e2Z9e2d9e2h9e2l9e2p9e2t9e2x9Jw0KICAgIHVnZW4uYXBwZW5kKHVha3UyKQ0KICAgIHRyeToNCiAgICAgICAgdWE9b3BlbignYmJuZXcudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiAgICAgICAgZm9yIHViIGluIHVhOg0KICAgICAgICAgICAgdWdlbi5hcHBlbmQodWIpDQogICAgZXhjZXB0Og0KICAgICAgICBhPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9naXRodWIuY29tL1RoZVNwZWVkWC9QUk9YWS1MaXN0JykudGV4dA0KICAgICAgICB1YT1vcGVuKCdiYm5ldy50eHQnLCd3JykNCiAgICAgICAgYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpDQogICAgICAgIGZvciB1biBpbiBhYToNCiAgICAgICAgICAgIHVhLndyaXRlKHVuKydcbicpDQogICAgICAgIHVhPW9wZW4oJ2JibmV3LnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQogDQojLS0tLS0tLS0tLS0tWyBJTkRJQ0FUSU9OIF0tLS0tLS0tLS0tLS0tLS0jDQppZCxpZDIsbG9vcCxvayxjcCxha3VuLG9wcmVrLG1ldGhvZCxsaXNlbnNpa3UsdGFwbGlrYXNpLHRva2Vua3UsdWlkLGxpc2Vuc2lrdW5pPSBbXSxbXSwwLDAsMCxbXSxbXSxbXSxbXSxbXSxbXSxbXSxbXQ0KY29rYnJ1dD1bXQ0KcHdwbHVzcyxwd255YT1bXSxbXQ0KIA0KIA0KDQojLS0tLS0tLS0tLS0tWyBNQUhESS0gXS0tLS0tLS0tLS0tLS0tIw0KIA0KUCA9ICdceDFiWzE7OTdtJw0KTSA9ICdceDFiWzE7OTFtJw0KSCA9ICdceDFiWzE7OTJtJw0KSyA9ICdceDFiWzE7OTNtJw0KQiA9ICdceDFiWzE7OTRtJw0KVSA9ICdceDFiWzE7OTVtJyANCk8gPSAnXHgxYlsxOzk2bScNCk4gPSAnXHgxYlswbScgICAgDQpaID0gIlwwMzNbMTszMG0iDQpzaXIgPSAnXDAzM1s0MW1ceDFiWzE7OTdtJw0KeCA9ICdcMzNbbScgIyBERUZBVUxUDQptID0gJ1x4MWJbMTs5MW0nICNSRUQgKw0KayA9ICdcMDMzWzkzbScgIyBLVU5JTkcgKw0KaCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsNCmhoID0gJ1wwMzNbMzJtJyAjIEhJSkFVIC0NCnUgPSAnXDAzM1s5NW0nICMgVU5HVQ0Ka2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0NCmIgPSAnXDMzWzE7OTZtJyAjIEJJUlUgLQ0KcCA9ICdceDFiWzA7MzRtJyAjIEJJUlUgKw0KYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLGgsdSxiXSkNCiANCiMjIy0tLS0tLS0tLS1bIEFOU0lJIENPTE9SIFNUWUxFIF0tLS0tLS0tLS0tICMjIw0KIA0KWiA9ICJceDFiWzA7OTBtIiAgICAgIyBIaXRhbQ0KTSA9ICJceDFiWzM4OzU7MTk2bSIgIyBNZXJhaA0KSCA9ICJceDFiWzM4OzU7NDZtIiAgIyBIaWphdQ0KSyA9ICJceDFiWzM4OzU7MjI2bSIgIyBLdW5pbmcNCkIgPSAiXHgxYlszODs1OzQ0bSIgICMgQmlydQ0KVSA9ICJceDFiWzA7OTVtIiAgICAgIyBVbmd1DQpPID0gIlx4MWJbMDs5Nm0iICAgICAjIEJpcnUgTXVkYQ0KUCA9ICJceDFiWzM4OzU7MjMxbSIgIyBQdXRpaA0KSiA9ICJceDFiWzM4OzU7MjA4bSIgIyBKaW5nZ2ENCkEgPSAiXHgxYlszODs1OzI0OG0iICMgQWJ1LUFidQ0KIA0KIyMjLS0tLS0tLS0tLVsgUklDSCBDT0xPUiBTVFlMRSBdLS0tLS0tLS0tLSAjIyMNCiANCloyID0gIlsjMDAwMDAwXSIgIyBIaXRhbQ0KTTIgPSAiWyNGRjAwMDBdIiAjIE1lcmFoDQpIMiA9ICJbIzAwRkYwMF0iICMgSGlqYXUNCksyID0gIlsjRkZGRjAwXSIgIyBLdW5pbmcNCkIyID0gIlsjMDBDOEZGXSIgIyBCaXJ1DQpVMiA9ICJbI0FGMDBGRl0iICMgVW5ndQ0KTjIgPSAiWyNGRjAwRkZdIiAjIFBpbmsNCk8yID0gIlsjMDBGRkZGXSIgIyBCaXJ1IE11ZGENClAyID0gIlsjRkZGRkZGXSIgIyBQdXRpaA0KSjIgPSAiWyNGRjhGMDBdIiAjIEppbmdnYQ0KQTIgPSAiWyNBQUFBQUFdIiAjIEFidS1BYnUNCiANCiMtLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ09OVkVSVEVSLUJVTEFOIF0tLS0tLS0tLS0tLS0tLSMNCiANCmRpYyA9IHsnMSc6J0phbnVhcnknLCcyJzonRmVicnVhcnknLCczJzonTWFyY2gnLCc0JzonQXByaWwnLCc1JzonTWF5JywnNic6J0p1bmUnLCc3JzonSnVseScsJzgnOidBdWd1c3QnLCc5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGVjZW1iZXInfQ0KZGljMiA9IHsnMDEnOidKYW51YXJ5JywnMDInOidGZWJydWFyeScsJzAzJzonTWFyY2gnLCcwNCc6J0FwcmlsJywnMDUnOidNYXknLCcwNic6J0p1bmUnLCcwNyc6J0p1bHknLCcwOCc6J0F1Z3VzdCcsJzA5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGV2ZW1iZXInfQ0KdGdsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkuZGF5DQpibG4gPSBkaWNbKHN0cihkYXRldGltZS5kYXRldGltZS5ub3coKS5tb250aCkpXQ0KdGhuID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkueWVhcg0Kb2tjID0gJ09LLScrc3RyKHRnbCkrJy0nK3N0cihibG4pKyctJytzdHIodGhuKSsnLnR4dCcNCmNwYyA9ICdDUC0nK3N0cih0Z2wpKyctJytzdHIoYmxuKSsnLScrc3RyKHRobikrJy50eHQnDQpkYXRlID0gc3RyKHRnbCkrJy8nK3N0cihibG4pKycvJytzdHIodGhuKQ0KbHR4ID0gaW50KGx0KClbM10pDQppZiBsdHggPiAxMjoNCiAgICBhID0gbHR4LTEyDQogICAgdGFnID0gIlBNIg0KZWxzZToNCiAgICBhID0gbHR4DQogICAgdGFnID0gIkFNIg0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgTUFDSElORS1TVVBQT1JUIF0tLS0tLS0tLS0tLS0tLS0jDQogDQpkZWYgYWx2aW5vX3h5KHUpOg0KICAgICAgICBmb3IgZSBpbiB1ICsgIlxuIjpzeXMuc3Rkb3V0LndyaXRlKGUpO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDA1KQ0KZGVmIGNsZWFyKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQpkZWYgYmFjaygpOg0KICAgIGxvZ2luKCkNCmRlZiBjb250YWN0KCk6DQogICAjIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA3ODQ1NTAxMDA1MycpDQogICAgYmFjaygpDQpkZWYgbGluZXgoKToNCiAgICBwcmludCgnXDAzM1sxOzM3bScpDQpkZWYgYW5pbWF0aW9uKHUpOg0KICAgIGZvciBlIGluIHUgKyAiXG4iOnN5cy5zdGRvdXQud3JpdGUoZSk7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMSkNCiMtLS0tLS0tLS0tLS0tLS0tLS1bIExPR08tTEFLTkFUIF0tLS0tLS0tLS0tLS0tLS0tLSMNCmxvZ28gPSIiIg0KXDAzM1sxOzM1beKVlOKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKVl1wwMzNbMTszNW0gDQogICAgIFwwMzNbMTszMW3inJNcMDMzWzE7MzFtIFvwn6SNXSBcMDMzWzE7MzFtQ1JFQVRPUiAtIFwwMzNbMTtub2JvZHlcMDMzWzE7MzFtDQogICAgIFwwMzNbOTI7MW3inJNcMDMzWzkyOzFtIFvwn6SNXSBcMDMzWzkyOzFtTlVNQkVSICAtIFwwMzNbOTI7MW0wMTPDl8OXw5fDl8OXw5fDl8OXXDAzM1s5MjsxbQ0KICAgICBcMDMzWzE7Mzdt4pyTXDAzM1sxOzM3bSBb8J+kjV0gXDAzM1sxOzM0bVZFUlNJT04gLSBcMDMzWzE7MzZtMDBcMDMzWzE7MzZtDQpcMDMzWzE7MzVt4pWa4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pWdXDAzM1sxOzM1bSIiIg0Kb3Muc3lzdGVtKCdjbGVhcicpDQpwcmludChsb2dvKQ0Kb3Muc3lzdGVtKCdlc3BlYWsgLWEgMzAwICIgWW91ciwgIFJlYWwsICBOYW1lLCInKQ0KdW5hbWUgPWlucHV0KCdcMDMzWzE7OTdtW1wwMzNbMTs5Mm3igKJcMDMzWzE7OTdtXVwwMzNbMTs5Mm0gV0hBVCBJUyBZT1VSIE5BTUUgXDAzM1sxOzkxbTogXDMzWzE7MzJtJykNCm9zLnN5c3RlbSgnZXNwZWFrIC1hIDMwMCAiIFdlbGNvbWUsICAgdG8sICBub2JvZHksICBUb29scyInKQ0KcGFzcw0KIA0KIA0KZGVmIGxvZ2luKCk6DQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpDQogICAgICAgIGNvayA9IG9wZW4oJy5jb2sudHh0JywncicpLnJlYWQoKQ0KICAgICAgICB0b2tlbmt1LmFwcGVuZCh0b2tlbikNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgc3kgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2ZpZWxkcz1pZCxuYW1lJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sIGNvb2tpZXM9eydjb29raWUnOmNva30pDQogICAgICAgICAgICBzeTIgPSBqc29uLmxvYWRzKHN5LnRleHQpWyduYW1lJ10NCiAgICAgICAgICAgIHN5MyA9IGpzb24ubG9hZHMoc3kudGV4dClbJ2lkJ10NCiAgICAgICAgICAgIG1lbnUoc3kyLHN5MykNCiAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgbG9naW5fbGFnaTMzNCgpDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTdtPT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgYW5pbWF0aW9uKCcgW8OXXSBOTyBJTlRFUk5FVCBDT05ORUNUSU9OIERFVEVDVEVEJykNCiAgICAgICAgICAgIGV4aXQoKQ0KICAgIGV4Y2VwdCBJT0Vycm9yOg0KICAgICAgICBsb2dpbl9sYWdpMzM0KCkNCmRlZiBsb2dpbl9sYWdpMzM0KCk6DQogICAgdHJ5Og0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQobG9nbykNCiAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgIGNvb2tpZXMgPSB7J2Nvb2tpZSc6Y29va2llfQ0KICAgICAgICB1cmwgPSAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2Fkc21hbmFnZXIvbWFuYWdlL2NhbXBhaWducycNCiAgICAgICAgcmVxID0gc2VzLmdldCh1cmwsY29va2llcz1jb29raWVzKQ0KICAgICAgICBzZXQgPSByZS5zZWFyY2goJ2FjdD0oLio/KSZuYXZfc291cmNlJyxzdHIocmVxLmNvbnRlbnQpKS5ncm91cCgxKQ0KICAgICAgICBuZWsgPSAnJXM/YWN0PSVzJm5hdl9zb3VyY2U9bm9fcmVmZXJyZXInJSh1cmwsc2V0KQ0KICAgICAgICByb3EgPSBzZXMuZ2V0KG5layxjb29raWVzPWNvb2tpZXMpDQogICAgICAgIHRvayA9IHJlLnNlYXJjaCgnYWNjZXNzVG9rZW49IiguKj8pIicsc3RyKHJvcS5jb250ZW50KSkuZ3JvdXAoMSkNCiAgICAgICAgdG9rZW53ID0gb3BlbigiLnRva2VuLnR4dCIsICJ3Iikud3JpdGUodG9rKQ0KICAgICAgICBjb2tpZXcgPSBvcGVuKCIuY29rLnR4dCIsICJ3Iikud3JpdGUoY29va2llKQ0KICAgICAgI2V4aXQoKQ0KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgb3Muc3lzdGVtKCJybSAtZiAudG9rZW4udHh0IikNCiAgICAgICAgb3Muc3lzdGVtKCJybSAtZiAuY29rLnR4dCIpDQogICAgICAgIG9zLnN5c3RlbSgicHl0aG9uIG5vbm8ucHkiKQ0KICAgICAgICBleGl0KCkNCg0KIy0tLS0tLS0tLS0tLS0tLS0tLVsgTUVOVSBdLS0tLS0tLS0tLS0tLS0tLSMNCiAjPT09wqk9PT0jDQpjbGFzcyBqYWxhbjoNCiAgICBkZWYgX19pbml0X18oc2VsZiwgeik6DQogICAgICAgIGZvciBlIGluIHogKyAiXG4iOg0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQ0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDQwKQ0KZGVmIG1lbnUoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgIHByaW50KGYiXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dIFwwMzNbMTs5Mm1VU0VSIE5BTUVcMDMzWzE7OTFtIDpcMDMzWzE7OTZtICIrdW5hbWUpDQogICAgcHJpbnQoIlwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIFwwMzNbMDs5M21UT0RBWSdTIERBVEUgOlwwMzNbMTs5Mm0gIitkYXRlKQ0KICAgIHByaW50KCdcMDMzWzA7OTdtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgIHByaW50KGYiIiJcMDMzWzk3OzFtW1wwMzNbOTI7MW0xXDAzM1s5NzsxbV0gXDAzM1swOzkybUZJTEUgQ0xPTklORyAgICAgICAgICIiIikNCiAgICBwcmludCgiIiJcMDMzWzk3OzFtW1wwMzNbOTI7MW0yXDAzM1s5NzsxbV0gXDAzM1swOzkzbUNPTlRBQ1QgV0lUSCBBRE1JTiIiIikNCiAgICBwcmludChmIiIiXDAzM1s5NzsxbVtcMDMzWzkyOzFtM1wwMzNbOTc7MW1dIFwwMzNbOTI7MW1DSEVDSyBPSyBJRHogICAiIiIpDQogICAgcHJpbnQoIiIiXDAzM1s5NzsxbVtcMDMzWzkyOzFtMFwwMzNbOTc7MW1dIFwwMzNbMDs5MW1FWElUIiIiKQ0KICAgIHByaW50KCdcMDMzWzA7OTdtPT09PT09PT09PT09PT09PT0nKQ0KICAgIE5PQk9EWSA9IGlucHV0KCdceDFiWzE7OTJtWytdIENIT09TRTogJykNCiAgICBpZiBNQUhESSBpbiBbJzExMSddOg0KICAgICAgICBsb2dpbigpDQogICAgICAgIGR1bXBfbWFzc2FsKCkNCiAgICBlbGlmIE5PQk9EWSBpbiBbJzEnXToNCiAgICAgICAgY3JhY2tfZmlsZSgpDQogICAgZWxpZiBOT0JPRFkgaW4gWycyJywnMDInXTo4ODAxMzA1NzANCiAgICBlbGlmIE5PQk9EWSBpbiBbJzMnLCcwMyddOg0KICAgICAgICByZXN1bHQoKQ0KICAgIGVsaWYgTk9CT0RZIGluIFsnMCddOg0KICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiAudG9rZW4udHh0JykNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLmNvb2tpZS50eHQnKQ0KICAgICAgICBhbmltYXRpb24oJyBbw5ddIERPTkUgRVhJVCAnKQ0KICAgICAgICBleGl0KCkNCiAgICBlbHNlOg0KICAgICAgICBwcmludCgnXDAzM1swOzk3bT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgYW5pbWF0aW9uKCcgW8OXXSBTRUxFQ1QgQ09SUkVDVExZICcpDQogICAgICAgIGJhY2soKQ0KIA0KICAgICMtLS0tLS0tLS0tLS0tLS0tLVsgSEFTSUwtQ1JBQ0sgXS0tLS0tLS0tLS0tLS0tLS0tIw0KIA0KZGVmIHJlc3VsdCgpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50KGxvZ28pDQogICAgcHJpbnQoJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW0xXDAzM1s5NzsxbV0gQ0hFQ0sgQ1AgSURaICcpDQogICAgcHJpbnQoJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW0yXDAzM1s5NzsxbV0gQ0hFQ0sgT0sgSURaICcpDQogICAgcHJpbnQoJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW0zXDAzM1s5NzsxbV0gRVhJVCAnKQ0KICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICBreiA9IGlucHV0KCcgXDAzM1s5NzsxbVtcMDMzWzkyOzFt4oCiXDAzM1s5NzsxbV1DSE9PU0UgOiAnKQ0KICAgIGlmIGt6IGluIFsnMScsJzAxJ106DQogICAgICAgIHRyeTp2aW4gPSBvcy5saXN0ZGlyKCdDUCcpDQogICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgIGFuaW1hdGlvbignIFwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIEZJTEUgTk9UIEZPVU5EICcpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICBiYWNrKCkNCiAgICAgICAgaWYgbGVuKHZpbik9PTA6DQogICAgICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgICAgICAgICBhbmltYXRpb24oJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBOTyBDUCBSRVNVTFRTIEZPVU5EICcpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgICAgICBiYWNrKCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIGNpaCA9IDANCiAgICAgICAgICAgIGxvbCA9IHt9DQogICAgICAgICAgICBmb3IgaXNpIGluIHZpbjoNCiAgICAgICAgICAgICAgICB0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdDpjb250aW51ZQ0KICAgICAgICAgICAgICAgIGNpaCs9MQ0KICAgICAgICAgICAgICAgIGlmIGNpaDwxMDoNCiAgICAgICAgICAgICAgICAgICAgbm9tID0gJycrc3RyKGNpaCkNCiAgICAgICAgICAgICAgICAgICAgbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQ0KICAgICAgICAgICAgICAgICAgICBsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQ0KICAgICAgICAgICAgICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgICAgICAgICAgICAgICAgIHByaW50KCcgJytub20rJy4gJytpc2krJ1wwMzNbMzFtICcrc3RyKGxlbihoZW0pKSsnIFwwMzNbMG0gQ1AgJyt4KQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyAnK3N0cihjaWgpKycuICcraXNpKydcMDMzWzMxbSAnK3N0cihsZW4oaGVtKSkrJyBcMDMzWzBtIENQICcreCkNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgIGdlZWggPSBpbnB1dCgnIFwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIENIT09TRSA6ICcpDQogICAgICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgICAgICAgICB0cnk6Z2VoID0gbG9sW2dlZWhdDQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6DQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgICAgIGFuaW1hdGlvbignIFwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIE5PIE9QVElPTiBGT1VORCAnKQ0KICAgICAgICAgICAgICAgIGV4aXQoKQ0KICAgICAgICAgICAgdHJ5OmxpbiA9IG9wZW4oJ0NQLycrZ2VoLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQ0KICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgICAgICBhbmltYXRpb24oJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBGSUxFIE5PVCBGT1VORCAnKQ0KICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgICAgICAgICBiYWNrKCkNCiAgICAgICAgICAgIG5vY3A9MA0KICAgICAgICAgICAgZm9yIGNwa3UgaW4gcmFuZ2UobGVuKGxpbikpOg0KICAgICAgICAgICAgICAgIGNwa3VuaT1saW5bbm9jcF0uc3BsaXQoJ3wnKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnIFwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIENQIDogXDAzM1szM20ge2Nwa3VuaVswXX18e2Nwa3VuaVsxXX1cMDMzWzBtJykNCiAgICAgICAgICAgICAgICBub2NwICs9MQ0KICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgaW5wdXQoJ1wwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIFBSRVNTIEVOVEVSIFRPIEJBQ0sgJykNCiAgICAgICAgICAgIGJhY2soKQ0KICAgIGVsaWYga3ogaW4gWycyJywnMDInXToNCiAgICAgICAgdHJ5OnZpbiA9IG9zLmxpc3RkaXIoJ09LJykNCiAgICAgICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgYW5pbWF0aW9uKCcgXDAzM1s5NzsxbVtcMDMzWzkyOzFt4oCiXDAzM1s5NzsxbV0gRklMRSBOT1QgRk9VTkQgJykNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIGJhY2soKQ0KICAgICAgICBpZiBsZW4odmluKT09MDoNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgIGFuaW1hdGlvbignIFwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIE5PIE9LIFJFU1VMVFMgRk9VTkQgJykNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgICAgIGJhY2soKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgY2loID0gMA0KICAgICAgICAgICAgbG9sID0ge30NCiAgICAgICAgICAgIGZvciBpc2kgaW4gdmluOg0KICAgICAgICAgICAgICAgIHRyeTpoZW0gPSBvcGVuKCdPSy8nK2lzaSwncicpLnJlYWRsaW5lcygpDQogICAgICAgICAgICAgICAgZXhjZXB0OmNvbnRpbnVlDQogICAgICAgICAgICAgICAgY2loKz0xDQogICAgICAgICAgICAgICAgaWYgY2loPDEwMDoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgICAgICAgICBub20gPSAnJytzdHIoY2loKQ0KICAgICAgICAgICAgICAgICAgICBsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pDQogICAgICAgICAgICAgICAgICAgIGxvbC51cGRhdGUoe25vbTpzdHIoaXNpKX0pDQogICAgICAgICAgICAgICAgICAgIHByaW50KCcgJytub20rJy4gJytpc2krJ1wwMzNbMzJtICcrc3RyKGxlbihoZW0pKSsnIFwwMzNbMG0gT0sgJyt4KQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyAnK3N0cihjaWgpKycuICcraXNpKydcMDMzWzMybSAnK3N0cihsZW4oaGVtKSkrJyBcMDMzWzBtIE9LICcreCkNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgIGdlZWggPSBpbnB1dCgnIFx4MWJbMTs5Mm0gW+KAol0gQ0hPT1NFIDogJykNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgIHRyeTpnZWggPSBsb2xbZ2VlaF0NCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgICAgICAgICAgICAgYW5pbWF0aW9uKCcgXDAzM1s5NzsxbVtcMDMzWzkyOzFt4oCiXDAzM1s5NzsxbV0gTk8gT1BUSU9OIEZPVU5EICcpDQogICAgICAgICAgICAgICAgZXhpdCgpDQogICAgICAgICAgICB0cnk6bGluID0gb3BlbignT0svJytnZWgsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgICAgIGFuaW1hdGlvbignIFwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIEZJTEUgTk9UIEZPVU5EICcpDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgICAgICAgICAgIGJhY2soKQ0KICAgICAgICAgICAgbm9jcD0wDQogICAgICAgICAgICBmb3IgY3BrdSBpbiByYW5nZShsZW4obGluKSk6DQogICAgICAgICAgICAgICAgY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpDQogICAgICAgICAgICAgICAgcHJpbnQoZidcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBPSyA6IFwwMzNbMzJtIHtjcGt1bmlbMF19fHtjcGt1bmlbMV19XDAzM1swbScpDQogICAgICAgICAgICAgICAgbm9jcCArPTENCiAgICAgICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgICAgIGlucHV0KCdcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBQUkVTUyBFTlRFUiBUTyBCQUNLICcpDQogICAgICAgICAgICBiYWNrKCkNCiAgICBlbGlmIGt6IGluIFsnMCcsJzAwJ106DQogICAgICAgIGJhY2soKQ0KICAgIGVsc2U6DQogICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgYW5pbWF0aW9uKCcgXDAzM1s5NzsxbVtcMDMzWzkyOzFt4oCiXDAzM1s5NzsxbV0gTk8gT1BUSU9OIEZPVU5EIElOIE1FTlUnKQ0KICAgICAgICBleGl0KCkNCiANCiMtLS0tLS0tLS0tLS0tLS0tLS0tWyBDUkFDSy1QVUJMSUsgXS0tLS0tLS0tLS0tLS0tLS0jDQogDQpkZWYgZHVtcF9tYXNzYWwoKToNCiAgICB0cnk6DQogICAgICAgIHRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICAgICAgY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpDQogICAgZXhjZXB0IElPRXJyb3I6DQogICAgICAgIGV4aXQoKQ0KICAgIHRyeToNCiAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBqdW0gPSBpbnQoaW5wdXQoJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBFTlRFUiBUQVJHRVQgQU1PVU5UICA6ICcpKQ0KICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgZXhjZXB0IFZhbHVlRXJyb3I6DQogICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgYW5pbWF0aW9uKCcgW8OXXSBJTlZBTElEIE9QVElPTiAnKQ0KICAgICAgICBleGl0KCkNCiAgICBpZiBqdW08MSBvciBqdW0+MTAwMDAwMDAwOg0KICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgICAgIGFuaW1hdGlvbignIFvDl10gVFJZIEFHQUlOICcpDQogICAgICAgIGV4aXQoKQ0KICAgIHNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkNCiAgICB5eiA9IDANCiAgICBmb3IgbWV0IGluIHJhbmdlKGp1bSk6DQogICAgICAgIHl6Kz0xDQogICAgICAgIGtsID0gaW5wdXQoJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBJTlBVVCBVSUQgJytzdHIoeXopKycgOiAnKQ0KICAgICAgICB1aWQuYXBwZW5kKGtsKQ0KICAgIGZvciB1c2VyciBpbiB1aWQ6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGNvbCA9IHNlcy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YyLjAvJyt1c2VycisnP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sIGNvb2tpZXMgPSB7J2Nvb2tpZXMnOmNva30pLmpzb24oKQ0KICAgICAgICAgICAgZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBpc28gPSAobWlbJ2lkJ10rJ3wnK21pWyduYW1lJ10pDQogICAgICAgICAgICAgICAgICAgIGlmIGlzbyBpbiBpZDpwYXNzDQogICAgICAgICAgICAgICAgICAgIGVsc2U6aWQuYXBwZW5kKGlzbykNCiAgICAgICAgICAgICAgICBleGNlcHQ6Y29udGludWUNCiAgICAgICAgZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToNCiAgICAgICAgICAgIHBhc3MNCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICAgICAgYW5pbWF0aW9uKCcgW8OXXSBUUlkgQUdBSU4gJykNCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHRyeToNCiAgICAgICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgICAgICBwcmludChmJyBcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBUT1RBTCBJRCA6IFx1MDAxYlszNm0nK3N0cihsZW4oaWQpKSsnXDAzM1sxOzM3bScpDQogICAgICAgIHNldHRpbmcoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgcHJpbnQoZid7dX0nKQ0KICAgICAgICBiYWNrKCkNCiAgICBleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOg0KICAgICAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgICAgIGFuaW1hdGlvbigiIFvDl10gRFVNUCBJRCBGQUlMRUQgIikNCiAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICBiYWNrKCkNCiANCiMtLS0tLS0tLS0tLS0tWyBDUkFDSy1GUk9NLUZJTEUgXS0tLS0tLS0tLS0tLS0tLS0tLSMNCiANCmRlZiBjcmFja19maWxlKCk6DQogICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgIG9zLnN5c3RlbSgnZXNwZWFrIC1hIDMwMCAiIHlvdXIgZmlsZSBuYW1lIicpDQogICAgcHJpbnQoJ1wwMzNbMTszMm1bIFB1dCBGaWxlIEV4YW1wbGU6ICAvc2RjYXJkL05vYm9keS50eHQgIEV0Yy4uLl0nKQ0KICAgIG8gPSBpbnB1dCgnXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dIElOUHV0IEZJTEUgTkFNRSA6XDAzM1s5MjsxbSAnKQ0KICAgIHRyeTpsaW4gPSBvcGVuKG8pLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiAgICBleGNlcHQ6DQogICAgICAgIHByaW50KCdcMDMzWzA7OTFtPT09PT09PT09PT09PT09PT09JykNCiAgICAgICAgYW5pbWF0aW9uKCcgW8OXXSBGSUxFIE5PVCBGT1VORCcpDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgYmFjaygpDQogICAgZm9yIHhpZCBpbiBsaW46DQogICAgICAgIGlkLmFwcGVuZCh4aWQpDQogICAgc2V0dGluZygpDQogDQojLS0tLS0tLS0tLS0tLVsgUEVOR0FUVVJBTi1JRFogXS0tLS0tLS0tLS0tLS0tLSMNCiANCmRlZiBzZXR0aW5nKCk6DQogICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpDQogICAgcHJpbnQoIlwwMzNbOTc7MW1bXDAzM1s5MjsxbTFcMDMzWzk3OzFtXSBcMDMzWzA7OTJtQ0xPTklORyBGT1IgT05MWSBPTEQgSUR6IikNCiAgICBwcmludCgiXDAzM1s5NzsxbVtcMDMzWzkyOzFtMlwwMzNbOTc7MW1dIENMT05JTkcgRk9SIE9OTFkgTkVXIElEeiIpDQogICAgcHJpbnQoIlwwMzNbOTc7MW1bXDAzM1s5MjsxbTNcMDMzWzk3OzFtXSBcMDMzWzA7OTJtQ0xPTklORyBGT1IgTUlYIElEeiIpDQogICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpDQogICAgaHUgPSBpbnB1dCgnXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dQ0hPT1NFIDpcMDMzWzkyOzFtICcpDQogICAgaWYgaHUgaW4gWycxJywnMDEnXToNCiAgICAgICAgZm9yIHR1YSBpbiBzb3J0ZWQoaWQpOg0KICAgICAgICAgICAgaWQyLmFwcGVuZCh0dWEpDQogICAgZWxpZiBodSBpbiBbJzInLCcwMiddOg0KICAgICAgICBtdWRhPVtdIA0KICAgICAgICBmb3IgYmFjb3QgaW4gc29ydGVkKGlkKToNCiAgICAgICAgICAgIG11ZGEuYXBwZW5kKGJhY290KQ0KICAgICAgICBiY209bGVuKG11ZGEpDQogICAgICAgIGJjbWk9KGJjbS0xKQ0KICAgICAgICBmb3IgeG11ZCBpbiByYW5nZShiY20pOg0KICAgICAgICAgICAgaWQyLmFwcGVuZChtdWRhW2JjbWldKQ0KICAgICAgICAgICAgYmNtaSAtPTENCiAgICBlbGlmIGh1IGluIFsnMycsJzAzJ106DQogICAgICAgIGZvciBiYWNvdCBpbiBpZDoNCiAgICAgICAgICAgIHh4ID0gcmFuZG9tLnJhbmRpbnQoMCxsZW4oaWQyKSkNCiAgICAgICAgICAgIGlkMi5pbnNlcnQoeHgsYmFjb3QpDQogICAgZWxzZToNCiAgICAgICAgZm9yIGJhY290IGluIGlkOg0KICAgICAgICAgICAgeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZDIpKQ0KICAgICAgICAgICAgaWQyLmluc2VydCh4eCxiYWNvdCkNCiAgICBwcmludCgnXDAzM1swOzkxbT09PT09PT09PT09PT09PT09PScpDQogICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgIHByaW50KCJcMDMzWzk3OzFtW1wwMzNbOTI7MW0xXDAzM1s5NzsxbV0gTUVUSE9EIDEgW1wwMzNbMDs5Mm1Db29raWVzIFNob3dcMDMzWzE7MzdtXSIpDQogICAgcHJpbnQoIlwwMzNbOTc7MW1bXDAzM1s5MjsxbTJcMDMzWzk3OzFtXSBNRVRIT0QgMiBbXDAzM1swOzkzbUNwIGlkIFNob3dcMDMzWzE7MzdtXSIpDQogICAgcHJpbnQoJ1wwMzNbMDs5MW09PT09PT09PT09PT09PT09PT0nKQ0KICAgIGhjID0gaW5wdXQoJ1wwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIENIT09TRSA6ICcpDQogICAgaWYgaGMgaW4gWycxJywnMDEnXToNCiAgICAgICAgbWV0aG9kLmFwcGVuZCgnbW9iaWxlJykNCiAgICBlbGlmIGhjIGluIFsnMicsJzAyJ106DQogICAgICAgIG1ldGhvZC5hcHBlbmQoJ2ZyZWUnKQ0KICAgIGVsc2U6DQogICAgICAgIG1ldGhvZC5hcHBlbmQoJ21vYmlsZScpDQogICAgcGFzc3dyZCgpDQogICAgZXhpdCgpIA0KIA0KIy0tLS0tLS0tLS0tLS0tLS0tLS1bIEJBR0lBTi1XT1JETElTVCBdLS0tLS0tLS0tLS0tIw0KIA0KZGVmIHBhc3N3cmQoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgIHByaW50KGYiXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dIFwwMzNbMTs5Mm1VU0VSIE5BTUVcMDMzWzE7OTFtIDpcMDMzWzE7OTZtICIrdW5hbWUpDQogICAgcHJpbnQoIlwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIFwwMzNbMTA7OTNtVE9EQVknUyBEQVRFIDpcMDMzWzE7OTJtICIrZGF0ZSkNCiAgICBwcmludCgnXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dIFwwMzNbMTs5Mm1ZT1VSIFRPVEFMIElEeiBcMDMzWzA7OTdtOlwwMzNbMTs5Mm0gJyxzdHIobGVuKGlkKSkpDQogICAgcHJpbnQoIlwwMzNbOTc7MW1bXDAzM1s5MjsxbeKAolwwMzNbOTc7MW1dIFx4MWJbMzg7NTsyMDhtU1RBUlRFRCBZT1VSIENMT05JTkcgVElNRVwwMzNbMDs5N20gOj4gXDAzM1sxOzkybSIrdGltZS5zdHJmdGltZSgiJUg6JU0iKSsiICIrIHRhZykNCiAgICBwcmludCgiXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dIFwwMzNbMTA7OTVtQ0xPTklORyBTUEVFRCBTVVBFUiBGQVNULSHinIUiKQ0KICAgIHByaW50KGYnXDAzM1s5NzsxbVtcMDMzWzkyOzFt4oCiXDAzM1s5NzsxbV0gXDAzM1sxOzkybVVzZSBGbGlnaHQgTW9kZSBGb3IgU3BlZWQgVXAgJykNCiAgICBwcmludCgnXDAzM1swOzk3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICB3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6DQogICAgICAgIGZvciB5dXpvbmcgaW4gaWQyOg0KICAgICAgICAgICAgaWRmLG5tZiA9IHl1em9uZy5zcGxpdCgnfCcpWzBdLHl1em9uZy5zcGxpdCgnfCcpWzFdLmxvd2VyKCkNCiAgICAgICAgICAgIGZycyA9IG5tZi5zcGxpdCgnICcpWzBdDQogICAgICAgICAgICBwd3YgPSBbXQ0KICAgICAgICAgICAgaWYgbGVuKG5tZik8NjoNCiAgICAgICAgICAgICAgICBpZiBsZW4oZnJzKTwzOg0KICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzEyJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzEyMycpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMjM0JykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzEyMzQ1JykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzEyMzQ1NicpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQobm1mKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKCc1NzI3MzIwMCcpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKydAMTIzJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJ0AnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnQEAnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnQEBAJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJ0BAQEAnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnQCMnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMTEyMicpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMScpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMTEnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMjInKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMicpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycyMjIpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGlmIGxlbihmcnMpPDM6DQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQobm1mKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMicpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMjMnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMTIzNCcpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMjM0NScpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKycxMjM0NTYnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKG5tZikNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZCgnNTcyNzMyMDAnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnQDEyMycpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKydAJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJ0BAJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJ0BAQCcpDQogICAgICAgICAgICAgICAgICAgIHB3di5hcHBlbmQoZnJzKydAQEBAJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJ0AjJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzExMjInKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMTEnKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMTExJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzIyJykNCiAgICAgICAgICAgICAgICAgICAgcHd2LmFwcGVuZChmcnMrJzInKQ0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKGZycysnMjIyKQ0KICAgICAgICAgICAgaWYgJ3lhJyBpbiBwd3BsdXNzOg0KICAgICAgICAgICAgICAgIGZvciB4cHdkIGluIHB3bnlhOg0KICAgICAgICAgICAgICAgICAgICBwd3YuYXBwZW5kKHhwd2QpDQogICAgICAgICAgICBlbHNlOnBhc3MNCiAgICAgICAgICAgIGlmICdtb2JpbGUnIGluIG1ldGhvZDoNCiAgICAgICAgICAgICAgICBwb29sLnN1Ym1pdChjcmFjayxpZGYscHd2KQ0KICAgICAgICAgICAgZWxpZiAnZnJlZScgaW4gbWV0aG9kOg0KICAgICAgICAgICAgICAgIHBvb2wuc3VibWl0KGNyYWNrZnJlZSxpZGYscHd2KQ0KICAgICAgICAgICAgZWxpZiAndG91Y2gnIGluIG1ldGhvZDoNCiAgICAgICAgICAgICAgICBwb29sLnN1Ym1pdChjcmFja2ZyZWUsaWRmLHB3dikNCiAgICAgICAgICAgIGVsaWYgJ21iYXNpYycgaW4gbWV0aG9kOg0KICAgICAgICAgICAgICAgIHBvb2wuc3VibWl0KGNyYWNrZnJlZSxpZGYscHd2KQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwb29sLnN1Ym1pdChjcmFja2ZyZWUsaWRmLHB3dikNCiAgICBwcmludCgnXG5cMDMzWzE7MzdtPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQ0KICAgIHByaW50KCdcMDMzWzk3OzFtW1wwMzNbOTI7MW0rXDAzM1s5NzsxbV0gQ0xPTklORyBDT01QTEVURSBUSU1FIDpcMDMzWzE7OTJtJyt0aW1lLnN0cmZ0aW1lKCIlSDolTSIpKyIgIisgdGFnKQ0KICAgIHByaW50KCdcMDMzWzk3OzFtW1wwMzNbOTI7MW3igKJcMDMzWzk3OzFtXSBPSyA6XDAzM1swOzkybSAlcyAnJShvaykpDQogICAgcHJpbnQoJ1wwMzNbOTc7MW1bXDAzM1s5MjsxbStcMDMzWzk3OzFtXSBDUCA6XDAzM1swOzkzbSAlcyAnJShjcCkpDQogICAgcHJpbnQoJ1xuXDAzM1sxOzM3bT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykNCiAgICB3b2kgPSBpbnB1dCgnXDAzM1s5NzsxbVtcMDMzWzkyOzFtK1wwMzNbOTc7MW1dIFwwMzNbMTszN20gRU5URVIgVE8gQkFDSycpDQogICAgb3Muc3lzdGVtKCJweXRob24gbm9uby5weSIpDQogICAgZXhpdCgpDQogDQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVE9ERS1CLUFQSSBdLS0tLS0tLS0tLS0tLS0tLS0jDQogDQpkZWYgY3JhY2soaWRmLHB3dik6DQogICAgZ2xvYmFsIGxvb3Asb2ssY3ANCiAgICBibyA9IHJhbmRvbS5jaG9pY2UoW20sayxoLGIsdSx4XSkNCiAgICBzeXMuc3Rkb3V0LndyaXRlKGYiXHJcMDMzWzEwMDs5Mm17Ym99W05vYm9keeKAok0xXXtQfSBbe0h9e2xvb3B9e1B9XT5+PFt7SH17bGVuKGlkKX17UH1dIFt7SH1PS3tib33igKJ7SH17b2t9e1B9XSBbe1B9eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihpZCkpKX17UH1dXDAzM1swOzM3bSAiKSwNCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICB1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICB1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQ0KICAgIHNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIGZvciBwdyBpbiBwd3Y6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG5pcD1yYW5kb20uY2hvaWNlKHByb3gpDQogICAgICAgICAgICBwcm94cz0geydodHRwJzogJ3NvY2tzNDovLycrbmlwfQ0KICAgICAgICAgICAgc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J21iYXNpYy5mYWNlYm9vay5jb20nLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhMiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoiY3Jvc3Mtc2l0ZSIsInNlYy1mZXRjaC1tb2RlIjoibmF2aWdhdGUiLCJzZWMtZmV0Y2gtdXNlciI6Ij8xIiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1VUyxlbjtxPTAuOSJ9KQ0KICAgICAgICAgICAgcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJykNCiAgICAgICAgICAgIGRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9DQogICAgICAgICAgICBrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KICAgICAgICAgICAga29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2Jw0KICAgICAgICAgICAgaGVhZGUgPSB7J0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsICd2aWV3cG9ydC13aWR0aCc6ICc5ODAnLCAnc2VjLWNoLXVhJzogJyIgTm90KUE7QnJhbmQiO3Y9IjI0IiwgIkNocm9taXVtIjt2PSIxMTYiJywgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCAnc2VjLWNoLXVhLXBsYXRmb3JtJzonIkFuZHJvaWQiJywgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsICdkbnQnOiAnMScsICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCAndXNlci1hZ2VudCc6dWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLCAnc2VjLWZldGNoLXNpdGUnOiAnY3Jvc3Mtc2l0ZScsICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsICdzZWMtZmV0Y2gtdXNlcic6ICc/MScsICdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45J30NCiAgICAgICAgICAgIHBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KICAgICAgICAgICAgaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgcHJpbnQoZidcclwwMzNbMDs5NG1bTm9ib2R5LUNwXSB7aWRmfSDigKIge3B3fScpDQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdlc3BlYWsgLWEgMzAwICIgQ3AsIicpDQogICAgICAgICAgICAgICAgb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJyDigKIgJytwdysnXG4nKQ0KICAgICAgICAgICAgICAgIGFrdW4uYXBwZW5kKGlkZisnIOKAoiAnK3B3KQ0KICAgICAgICAgICAgICAgIGNwKz0xDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgb2srPTENCiAgICAgICAgICAgICAgICBjb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQ0KICAgICAgICAgICAgICAgIGt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkNCiAgICAgICAgICAgICAgICBwcmludChmJ1xyXDAzM1swOzkybVtOT0JPRFktT2vwn5KaXSB7aWRmfSDigKIge3B3fVxuXDAzM1swOzkzbVvwn5iOXT0gQ09PS0lFUyDigKIgXDAzM1swOzkybXtrdWtpfSAnKQ0KICAgICAgICAgICAgICAgIG9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKycg4oCiICcrcHcrJ1xuJykNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICB0aW1lLnNsZWVwKDMxKQ0KICAgIGxvb3ArPTENCiANCiMtLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtTUJBU0lDLTIgXS0tLS0tLS0tLS0tLS0tLS0tLS0jDQogDQpkZWYgY3JhY2tmcmVlKGlkZixwd3YpOg0KICAgIGdsb2JhbCBsb29wLG9rLGNwDQogICAgc3lzLnN0ZG91dC53cml0ZShmIlxye0h9W05vYm9keS1NMl17UH0gW3tIfXtsb29wfXtQfV17UH0+fjxbe0h9e2xlbihpZCl9e1B9XS1bT0t7UH3igKJ7SH17b2t9e1B9XSBbe1B9eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihpZCkpKX17UH1dICAiKSwNCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICB1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikNCiAgICB1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQ0KICAgIHNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KICAgIGZvciBwdyBpbiBwd3Y6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG5pcD1yYW5kb20uY2hvaWNlKHByb3gpDQogICAgICAgICAgICBwcm94cz0geydodHRwJzogJ3NvY2tzNDovLycrbmlwfQ0KICAgICAgICAgICAgc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6J21iYXNpYy5mYWNlYm9vay5jb20nLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhMiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoiY3Jvc3Mtc2l0ZSIsInNlYy1mZXRjaC1tb2RlIjoibmF2aWdhdGUiLCJzZWMtZmV0Y2gtdXNlciI6Ij8xIiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1VUyxlbjtxPTAuOSJ9KQ0KICAgICAgICAgICAgcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9JytpZGYrJyZmbG93PWxvZ2luX25vX3BpbiZyZWZzcmM9ZGVwcmVjYXRlZCZfcmRyJykNCiAgICAgICAgICAgIGRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9DQogICAgICAgICAgICBrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KICAgICAgICAgICAga29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2Jw0KICAgICAgICAgICAgaGVhZGUgPSB7J0hvc3QnOiAnbWJhc2ljLmZhY2Vib29rLmNvbScsICd2aWV3cG9ydC13aWR0aCc6ICc5ODAnLCAnc2VjLWNoLXVhJzogJyIgTm90KUE7QnJhbmQiO3Y9IjI0IiwgIkNocm9taXVtIjt2PSIxMTYiJywgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCAnc2VjLWNoLXVhLXBsYXRmb3JtJzonIkFuZHJvaWQiJywgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsICdkbnQnOiAnMScsICd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCAndXNlci1hZ2VudCc6dWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjcnLCAnc2VjLWZldGNoLXNpdGUnOiAnY3Jvc3Mtc2l0ZScsICdzZWMtZmV0Y2gtbW9kZSc6ICduYXZpZ2F0ZScsICdzZWMtZmV0Y2gtdXNlcic6ICc/MScsICdzZWMtZmV0Y2gtZGVzdCc6ICdkb2N1bWVudCcsICdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCAnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45J30NCiAgICAgICAgICAgIHBvID0gc2VzLnBvc3QoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQ0KICAgICAgICAgICAgaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6DQogICAgICAgICAgICAgICAgcHJpbnQoZidcclwwMzNbMDs5NW1be3RpbWUuc3RyZnRpbWUoIiVIOiVNIil94oCiVHV0dWwtQ3BdIHtpZGZ9IOKAoiB7cHd9JykNCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2VzcGVhayAtYSAzMDAgIiBDcCwiJykNCiAgICAgICAgICAgICAgICBvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnIOKAoiAnK3B3KydcbicpDQogICAgICAgICAgICAgICAgYWt1bi5hcHBlbmQoaWRmKycg4oCiICcrcHcpDQogICAgICAgICAgICAgICAgY3ArPTENCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToNCiAgICAgICAgICAgICAgICBvays9MQ0KICAgICAgICAgICAgICAgIGNva2k9cG8uY29va2llcy5nZXRfZGljdCgpDQogICAgICAgICAgICAgICAga3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQ0KICAgICAgICAgICAgICAgIHByaW50KGYnXHJcMDMzWzEwOzkybVt7dGltZS5zdHJmdGltZSgiJUg6JU0iKX3igKJOb2JvZHktT2tdIHtpZGZ9IOKAoiB7cHd9ICcpDQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdlc3BlYWsgLWEgMzAwICIgT2ssICBOb2JvZHksICBpZCInKQ0KICAgICAgICAgICAgICAgIG9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKycg4oCiICcrcHcrJ1xuJykNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICB0aW1lLnNsZWVwKDMxKQ0KICAgIGxvb3ArPTENCiANCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgU1lTVEVNLUNPTlRST0wgXS0tLS0tLS0tLS0tLS0tLS0tLS0tIw0KIA0KaWYgX19uYW1lX189PSdfX21haW5fXyc6DQogICAgdHJ5Om9zLm1rZGlyKCdPSycpDQogICAgZXhjZXB0OnBhc3MNCiAgICB0cnk6b3MubWtkaXIoJ0NQJykNCiAgICBleGNlcHQ6cGFzcw0KICAgIHRyeTpvcy5zeXN0ZW0oJ3RvdWNoIC5wcm94LnR4dCcpDQogICAgZXhjZXB0OnBhc3MNCm1lbnUoKQ=='))